<!DOCTYPE html>
<html>
	<head>
		<title>Rent Checka by Uphouseworks</title>
		<link rel="stylesheet" href="css/rent-display.css"/>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
    	<meta name="description" content="Rent Checka web app by Ben Friedman @uphouseworks" />
    	<meta name="author" content="Benjamin Wilson Friedman" />
		<script src="https://www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
	</head>
	<body>
		<a class="home_link link" href="index.html">
			<img class="home_image" src = "images/uphw_white.png" alt=""/>
			<h1 class="home_text">Uphouseworks</h1>
		</a>
		<div style="height: 75px;"></div>
		<h1 class = "title">Rent Checka</h1>
		<!--
		<script>
			window.onload = function() {
			  //window.mediaElement = document.getElementById('messages');
			  //window.mediaManager = new cast.receiver.MediaManager(window.mediaElement);
			   castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
			  castReceiverManager.onSenderDisconnected = function(event) {
					if(castReceiverManager.getSenders().length == 0 && event.reason == cast.receiver.system.DisconnectReason.REQUESTED_BY_SENDER) {
						close();
					}
				}
		
				var customMessageBus = castReceiverManager.getCastMessageBus('urn:x-cast:uphouseworks.rentchecka');
				customMessageBus.onMessage = function(event) {
				
					function addUtil(element, index, array) {
						var inArray = element.split(":");
						var nameId = "util";
						nameId = nameId + index;
						
						var costId = "util";
						costId = costId + index;
						costId = costId + "+";
				
						document.write("\
						<div class='utilBlue item'>\
							<h2 id='" + nameId + "' class='itemLeft'>" + inArray[0] + "</h2>\
							<h2 id='" + costId + "' class='itemRight'>" + inArray[1] + "</h2>\
						</div>\
						");
					}
					
					function addTenant(element, index, array) {
						var inArray = element.split(":");
						var nameId = "user";
						nameId = nameId + index;
						
						var costId = "user";
						costId = costId + index;
						costId = costId + "+";
				
						document.write("\
						<div class='tenantOrange item'>\
							<h2 id='" + nameId + "' class='itemLeft'>" + inArray[0] + "</h2>\
							<h2 id='" + costId + "' class='itemRight'>" + inArray[1] + "</h2>\
						</div>\
						");
					}
					
					var seperateComponents = event.data.split("===SPLIT-SECTION-HERE===");
					var utilData = seperateComponents[0].split("&");
					var rentdata = seperateComponents[1].split("&");
			
					//Print out the start of our container div, to hold UTILITIES
					document.write("\
					<!--Main Content Container--> \
					<div style='float: left; width: 45%;'>\
						<!-- ========================================================== -->\
						<!--  Utilities  -->\
						<div id = 'subTitle'>\
							<h1 style = 'margin-left: 20px;'>Utilities</h1>\
						</div>\
					");
					
					//Loops through array and will write out (in html) each utility item
					utilData.forEach(addUtil);
					//Print out the end & start of our container div, to hold TENANTS
					document.write("\
					</div>\
					<div style = 'float: right; width: 45%;'>\
						<!-- ========================================================== -->\
						<!--  Rent  -->\
						<div id = 'subTitle'>\
							<h1 style = 'margin-left: 20px;'>Rent</h1>\
						</div>\
					");
					rentData.forEach(addTenant);
					document.write("</div>");
				}
				castReceiverManager.start();
			}
		</script>
		-->
	</body>
</html>